# Performance Monitoring Setup

- Created a GA4 account and set some custom metrics
- Added `.env.*` files that contain analytics data: key, enable flag
- Added `web-vitals` dependency
- `src/components/BaseHead.astro` conditionally loads GA4 dependencies
- `src/components/Footer.astro` loads the `WebVitalsBatchedGA4` component
- `src/components/WebVitals/WebVitalsBatchedGA4.astro`: batches analytics calls (queue/flush). Slight downside where real-time metrics will be delayed. Also, if browser crashes we could lose out on data. Uses 'attribution data' with analytics calls. Has the ability to send analytics to our own endpoints. Sending analytics to GA4.
- Added api routes that required we opt out of server rendering. Had to also install a 'node adapter' to handle those pages. `src/pages/api/analytics-dev.ts` used during dev, logs metrics. `src/pages/api/analytics.ts` used during prod, mostly a placeholder where we can send to a DB or some other analytics service

## Next Steps

Resource budget monitoring
